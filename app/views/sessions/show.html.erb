<h1>Session details</h1>
<table class="table table-condensed">
  <tbody>
    <tr>
      <td><strong>Recorded:</strong></td>
      <td><%= Time.at(@session.token.to_i(36)) %></td>
    </tr>
    <tr>
      <td><strong>Track:</strong></td>
      <td><%= @session.races.first.name %></td>
    </tr>
    <tr>
      <td><strong>Laps:</strong></td>
      <td><%= @session.laps.size %></td>
    </tr>
  </tbody>
</table>
<h2>Drivers</h2>
<% @session.drivers.each_with_index do |driver, index| %>
<div class="panel panel-default">
  <div class="panel-heading"><%= driver.name %></div>
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>Number</th>
        <th>Sector 1</th>
        <th>Sector 2</th>
        <th>Sector 3</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody>
    <% driver.laps.where(:session_id => @session.id).order(:lap_number).each do |lap| %>
      <tr>
        <td><%= lap.lap_number + 1 %></td>
        <td><%= nice_time(lap.sector_1) %></td>
        <td><%= nice_time(lap.sector_2) %></td>
        <td><%= nice_time(lap.sector_3) %></td>
        <td><%= nice_time(lap.total) %></td>
      </tr>
    <% end %>
    </tbody>
  </table>    
</div>
<% end %>

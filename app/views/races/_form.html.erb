<script type="text/javascript" charset="utf-8">
  var sessions = <%= @sessions.to_json.html_safe %>;
</script>
<div class="form-group">
  <%= f.label(:name) %>
  <%= f.text_field(:name, :class => 'form-control', :placeholder => 'Name') %>
</div>

<div class="form-group">
  <%= f.label(:season_id, 'Season') %> (Not listed? <%= link_to('Add it!', new_super_league_league_season_path) %>)
  <%= f.select(:season_id, options_from_collection_for_select(Season.all, "id", "full_name", @race.season_id || @season.id), { :include_blank => true }, { :class => 'form-control' }) %>
</div>

<div class="form-group">
  <%= f.label(:track_id, 'Track') %> (Not listed? <%= link_to('Add it!', new_track_path) %>)
  <%= f.select(:track_id, options_from_collection_for_select(Track.where('name is not null').where('name != ?', '').order(:name), "id", "name", @race.track_id), { :include_blank => true }, { :class => 'form-control' }) %>
</div>

<div class="form-group">
  <%= f.label(:session_ids, 'Sessions') %> (Can't find the session? <%= link_to('Add it', new_session_path) %>)
  <%= f.select(:session_ids, options_from_collection_for_select(Session.where(:track_id => @race.track_id), "id", "name"), {}, { :multiple => true, :class => 'form-control', :size => 20 }) %>
</div>

<div class="form-group">
  <%= f.submit('Save', :class => 'btn btn-default') %><%= link_to('Cancel', :back) %>
</div>
